<Window x:Class="WpfApp2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp2"
        mc:Ignorable="d"
        Title="MainWindow" Height="650" Width="850">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <GroupBox Header="Filter" Grid.Row="0" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" Margin="5">
                <Label Content="Category:"/>
                <ComboBox Name="cbFilterCategory" Width="150" Margin="5,0,20,0"/>
                <Label Content="Author:"/>
                <ComboBox Name="cbFilterAuthor" Width="150" Margin="5,0,20,0"/>
                <Button Name="btnSearch" Content="Search" Width="80" Click="btnSearch_Click"/>
            </StackPanel>
        </GroupBox>

        <DataGrid Name="dgvDisplay" Grid.Row="1" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Book ID" Binding="{Binding BookId}" Width="60"/>
                <DataGridTextColumn Header="Title" Binding="{Binding Title}" Width="2*"/>
                <DataGridTextColumn Header="Category" Binding="{Binding Category.CategoryName}" Width="*"/>
                <DataGridTextColumn Header="Year" Binding="{Binding PublishedYear}" Width="60"/>
                <DataGridTextColumn Header="Price" Binding="{Binding Price, StringFormat={}{0:N0}}" Width="80"/>
                <DataGridTextColumn Header="Quantity" Binding="{Binding Quantity}" Width="70"/>
            </DataGrid.Columns>
        </DataGrid>

        <GroupBox Header="Add New Book" Grid.Row="2" Margin="0,10,0,0">
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="120"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Label Content="Title:" Grid.Row="0"/>
                <TextBox Name="txtTitle" Grid.Row="0" Grid.Column="1" Margin="2"/>

                <Label Content="Category:" Grid.Row="1"/>
                <ComboBox Name="cbAddCategory" Grid.Row="1" Grid.Column="1" Margin="2"/>

                <Label Content="Published Year:" Grid.Row="2"/>
                <TextBox Name="txtYear" Grid.Row="2" Grid.Column="1" Margin="2"/>

                <Label Content="Price:" Grid.Row="3"/>
                <TextBox Name="txtPrice" Grid.Row="3" Grid.Column="1" Margin="2"/>

                <Label Content="Quantity:" Grid.Row="4"/>
                <TextBox Name="txtQuantity" Grid.Row="4" Grid.Column="1" Margin="2"/>

                <Label Content="Authors:" Grid.Row="5"/>
                <ListBox Name="lbAuthors" Grid.Row="5" Grid.Column="1" Margin="2">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <CheckBox Content="{Binding AuthorName}" Tag="{Binding AuthorId}"/>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <StackPanel Orientation="Horizontal" Grid.Row="6" Grid.Column="1" HorizontalAlignment="Left" Margin="0,10">
                    <Button Name="btnAddBook" Content="Add Book" Width="100" Margin="0,0,10,0" Click="btnAddBook_Click"/>
                    <Button Name="btnClear" Content="Clear Form" Width="100" Click="btnClear_Click"/>
                </StackPanel>
            </Grid>
        </GroupBox>
    </Grid>
</Window>
